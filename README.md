### **README.md**

```markdown
# Электронно-цифровая подпись (ЭЦП) на Java

## Описание проекта
Проект демонстрирует работу с электронно-цифровой подписью (ЭЦП) на основе алгоритмов **RSA** и **SHA-256**. Реализованы два основных сценария взаимодействия клиента и сервера:

1. **Клиент → Сервер**: Клиент создает сообщение, подписывает его своей цифровой подписью и отправляет на сервер. Сервер проверяет подпись и подтверждает достоверность сообщения.
2. **Сервер → Клиент**: Сервер генерирует случайное сообщение, подписывает его и отправляет клиенту. Клиент проверяет подпись и подтверждает достоверность сообщения.

Проект использует "fake" базу данных для хранения публичных ключей клиентов, что делает его полностью автономным и готовым к использованию в учебных или тестовых целях.

---

## Технологии
- **Язык программирования**: Java 11+
- **Алгоритмы**: RSA (шифрование), SHA-256 (хэширование)
- **Библиотеки**: `java.security` (генерация ключей, работа с подписями)

---

## Структура проекта
```
src/
├── com.example.ecdsa.client
│   ├── Client.java               # Класс клиента
├── com.example.ecdsa.server
│   ├── Server.java               # Класс сервера
├── com.example.ecdsa.utils
│   ├── KeyGeneratorUtil.java     # Генерация ключей RSA
│   └── SignatureUtil.java        # Работа с подписями (создание и проверка)
└── README.md                     # Документация проекта
```

---

## Установка и запуск

### 1. Склонируйте репозиторий
```bash
git clone https://github.com/your-repo/ecdsa-demo.git
cd ecdsa-demo
```

### 2. Скомпилируйте проект
```bash
javac -d out src/com/example/ecdsa/*.java src/com/example/ecdsa/client/*.java src/com/example/ecdsa/server/*.java src/com/example/ecdsa/utils/*.java
```

### 3. Запустите программу
```bash
java -cp out com.example.ecdsa.Main
```

---

## Сценарии использования

### **Сценарий 1: Клиент → Сервер**
1. Программа запрашивает уникальный ID клиента (например, `client1`).
2. Клиент регистрируется на сервере. Его публичный ключ сохраняется в "fake" базе данных.
3. Выберите сценарий `1`.
4. Введите сообщение для отправки на сервер (например, `Привет, сервер!`).
5. Программа:
   - Подпишет сообщение с помощью закрытого ключа клиента.
   - Отправит подписанное сообщение на сервер.
6. Сервер:
   - Проверит подпись с помощью публичного ключа клиента.
   - Выведет результат проверки: `Подпись верна` или `Подпись неверна`.

#### Пример вывода:
```
Добро пожаловать в демонстрацию работы с ЭЦП!
Введите уникальный ID клиента: client1
Сервер: Клиент с ID client1 успешно зарегистрирован.
Выберите сценарий:
1. Клиент подписывает сообщение и отправляет его на сервер.
2. Клиент проверяет случайное сообщение от сервера.
Введите номер сценария (1 или 2): 1

--- Сценарий 1: Клиент подписывает сообщение и отправляет его на сервер ---
Введите сообщение для отправки на сервер: Привет, сервер!
Подписанное сообщение: Привет, сервер!|<BASE64_SIGNATURE>
Сервер: Подпись верна. Сообщение успешно принято.
```

---

### **Сценарий 2: Сервер → Клиент**
1. Программа запрашивает уникальный ID клиента (например, `client1`).
2. Клиент регистрируется на сервере. Его публичный ключ сохраняется в "fake" базе данных.
3. Выберите сценарий `2`.
4. Программа:
   - Предложит ввести случайное сообщение или сгенерирует его автоматически (например, `Случайное сообщение от сервера`).
   - Подпишет сообщение с помощью закрытого ключа сервера.
   - Отправит подписанное сообщение клиенту.
5. Клиент:
   - Проверит подпись с помощью публичного ключа сервера.
   - Выведет результат проверки: `Подпись верна` или `Подпись неверна`.

#### Пример вывода:
```
Добро пожаловать в демонстрацию работы с ЭЦП!
Введите уникальный ID клиента: client1
Сервер: Клиент с ID client1 успешно зарегистрирован.
Выберите сценарий:
1. Клиент подписывает сообщение и отправляет его на сервер.
2. Клиент проверяет случайное сообщение от сервера.
Введите номер сценария (1 или 2): 2

--- Сценарий 2: Клиент проверяет случайное сообщение от сервера ---
Введите случайное сообщение для сервера (или оставьте пустым для автоматической генерации): 
Сервер сгенерировал сообщение: Случайное сообщение от сервера
Сервер отправил подписанное сообщение: Случайное сообщение от сервера|<BASE64_SIGNATURE>
Клиент: Подпись верна. Сообщение успешно проверено.
```

---

## Особенности реализации

1. **Fake база данных**:
   - Для хранения публичных ключей клиентов используется коллекция `HashMap<String, PublicKey>`. Это позволяет имитировать реальную базу данных без необходимости настройки внешних систем.

2. **Генерация ключей**:
   - Ключи RSA генерируются автоматически при создании экземпляров клиента и сервера. Размер ключа — 2048 бит.

3. **Интерактивность**:
   - Программа предоставляет полное интерактивное взаимодействие с пользователем через консоль. Каждый шаг четко объяснен и поддерживается подробными сообщениями.

4. **Безопасность**:
   - Используются стандартные алгоритмы шифрования и хэширования, обеспечивающие надежность подписей.

---

## Возможные улучшения

1. **Реальная база данных**:
   - Интеграция с реальной базой данных (например, MySQL, PostgreSQL) для хранения ключей и метаданных.

2. **Сетевое взаимодействие**:
   - Добавление сетевых соединений (HTTP, WebSocket) для реализации удаленного взаимодействия между клиентом и сервером.

3. **Графический интерфейс**:
   - Создание GUI для удобства использования программы.

4. **Логирование**:
   - Добавление логирования для отслеживания всех операций с подписями.

---

## Автор
Разработано студентом Кадяй Э. М. ИДМ-23-08.

---
```

---
